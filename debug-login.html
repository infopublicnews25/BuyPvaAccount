<!DOCTYPE html>
<html>
<head><title>Debug localStorage</title></head>
<body style="font-family: monospace; padding: 20px;">
<h2>localStorage Debug</h2>
<div id="output"></div>
<script>
const output = document.getElementById("output");
const users = JSON.parse(localStorage.getItem("registered_users") || "[]");
output.innerHTML = "<h3>Registered Users (" + users.length + "):</h3><pre>" + JSON.stringify(users, null, 2) + "</pre>";

const testPassword = "test123";
const encodedPassword = btoa(testPassword);
output.innerHTML += "<h3>Password Check:</h3>";
output.innerHTML += "Input: test123<br>";
output.innerHTML += "btoa(''test123''): " + encodedPassword + "<br>";

if (users.length > 0) {
    const testUser = users.find(u => u.email === "test@customer.com");
    if (testUser) {
        output.innerHTML += "<br><strong>Test user found!</strong><br>";
        output.innerHTML += "Stored password: " + testUser.password + "<br>";
        output.innerHTML += "Match: " + (testUser.password === encodedPassword ? "YES" : "NO");
    } else {
        output.innerHTML += "<br><strong style=''color:red''>Test user NOT found!</strong><br>";
        output.innerHTML += "Available emails: " + users.map(u => u.email).join(", ");
    }
} else {
    output.innerHTML += "<br><strong style=''color:red''>No users in localStorage!</strong><br>";
    output.innerHTML += "<a href=''create-test-data.html''>Go to create test data</a>";
}
</script>
</body>
</html>
